<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Slides</title>

<meta name="description" content="">
<meta name="author" content="">
<meta name="generator" content="reveal-ck 4.0.0">



<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">


<!-- Code syntax highlighting -->
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/white.css" id="theme">

<!-- Theme used for syntax highlighting of code -->
<link rel="stylesheet" href="lib/css/monokai.css">

<link rel="stylesheet" href="css/reveal-ck.css">


<!-- Printing and PDF exports -->
<script>
  var link = document.createElement( 'link' );
  link.rel = 'stylesheet';
  link.type = 'text/css';
  link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
  document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>

  </head>

  <body>
    <div class="reveal">
  <div class="slides">
    <section>

<h1>dotfiles</h1>

<p>Date: 2020-04-15<br>
Speaker: Hiroshi Nishigami (hnishi)</p>

</section>
<section>

<h2>è¿‘æ³</h2>

<p><a href="https://www.pfu.fujitsu.com/direct/hhkb/detail_pd-kb800bs.html">HHKB (Happy Hacking Keyboard)</a><br>
ã‚’è²·ã„ã¾ã—ãŸã€‚ <img class="emoji" alt=":money_with_wings:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b8.png"></p>

<p><img src="https://www.pfu.fujitsu.com/direct/hhkb/images/detail_pd-kb800bs-1.jpg" width="50%" style="background:none; border:none; box-shadow:none;"></p>

</section>
<section>

<h2>ã¯ã˜ã‚ã«</h2>

<p>æœ€è¿‘ï¼ˆå»å¹´ï¼‘ï¼’æœˆé ƒâ›„ï¸ï¼‰ã€ <a href="https://qiita.com/hnishi/items/28ad11df1dde8b0ed368">è‡ªåˆ†ã® dotfiles ã‚’æ•´ç†ã—ãŸ</a> ãŸã‚ã€å…±æœ‰ã—ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚<br>
ï¼ˆ+ 3 ãƒ¶æœˆãã‚‰ã„ä½¿ã£ã¦ã¿ã¦ã€ã¡ã‚‡ã£ã¨ã ã‘ãƒã‚¦ãƒã‚¦ãŒãŸã¾ã£ãŸã®ã§ï¼‰</p>

</section>
<section>

<h2>å¯¾è±¡</h2>

<p>ã‚¿ãƒ¼ãƒŸãƒŠãƒ« (CLI) åˆå­¦è€…å‘ã‘ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>

</section>
<section>

<h2>dotfiles ã¨ã¯</h2>

<ul>
  <li>unix-like systems ã«ãŠã‘ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã“ã¨ã€‚</li>
  <li>ãƒ•ã‚¡ã‚¤ãƒ«åãŒãƒ‰ãƒƒãƒˆ . ã‹ã‚‰å§‹ã¾ã‚‹ã“ã¨ã«ç”±æ¥ã€‚</li>
</ul>

</section>
<section>

<h2>dotfiles ã®ä¾‹</h2>

<ul>
  <li>.bash_profile</li>
  <li>.bashrc</li>
  <li>.zshrc</li>
  <li>.asdfrc</li>
  <li>.gitconfig</li>
  <li>.vimrc</li>
</ul>

</section>
<section>

<h2>Catalina ã‹ã‚‰ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚·ã‚§ãƒ«ãŒ bash ğŸ‘‰ zsh ã«å¤‰ã‚ã£ãŸ</h2>

<ul>
  <li>Mojave ã§ã¯ Bash 3.2 (GNU Bash) (2007å¹´ã‹ã‚‰)</li>
  <li>ãªãŠã€bash ã®é–‹ç™ºã¯ active ã§ç¾åœ¨ version 5.0</li>
  <li>æ–°ã—ã„ bash ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯ GPLv3</li>
  <li>GPLv3 ã®åˆ¶é™ãŒå³ã—ã„ï¼ˆç‹¬è‡ªã‚½ãƒ•ãƒˆã§ã®ä½¿ç”¨ç¦æ­¢ã€ç‰¹è¨±çµ¡ã¿ã®å•é¡Œï¼‰</li>
  <li>ã¡ãªã¿ã«ã€zsh ã¯ MIT License</li>
</ul>

<p><a href="https://thenextweb.com/dd/2019/06/04/why-does-macos-catalina-use-zsh-instead-of-bash-licensing/">https://thenextweb.com/dd/2019/06/04/why-does-macos-catalina-use-zsh-instead-of-bash-licensing/</a></p>

</section>
<section>

<h2>ç®¡ç†æ‰‹æ³•ãŒéå¸¸ã«å¤šå²ã«ã‚ãŸã£ã¦ã„ã‚‹</h2>

<p>ã¡ã‚‡ã£ã¨æ¤œç´¢ã—ãŸã ã‘ã§ã‚‚ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã”ã¨ã«è‰²ãŒå‡ºéãã¦ã„ã‚‹ã€‚</p>

</section>
<section>

<h2>ãŸã¨ãˆã°</h2>

<ul>
  <li><a href="https://medium.com/toutsbrasil/how-to-manage-your-dotfiles-with-git-f7aeed8adf8b">ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã¾ã‚‹ã”ã¨ git ã§ç®¡ç†ã™ã‚‹æ–¹æ³•</a></li>
  <li><a href="https://qiita.com/b4b4r07/items/b70178e021bef12cd4a2">make</a></li>
  <li><a href="https://medium.com/@webprolific/getting-started-with-dotfiles-43c3602fd789">ruby</a></li>
  <li><a href="https://pypi.org/project/dotfiles/">python</a></li>
</ul>

</section>
<section>

<h2>ç§ã® dotfiles æˆ¦ç•¥</h2>

<ul>
  <li>æœ€å°æ§‹æˆã®ã‚µãƒ¼ãƒãƒ¼ã«å¯¾ã—ã¦ã‚‚ã€ã™ãã«dotfilesã‚’å±•é–‹ã§ãã‚‹</li>
  <li>Mac, Linux, Windows (mintty) ã«å¯¾å¿œ</li>
</ul>

</section>
<section>

<h2>æ–¹é‡</h2>

<ul>
  <li>ã§ãã‚‹ã ã‘ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆã«ã™ã‚‹</li>
  <li>bash ä¾å­˜ã®ã¿</li>
</ul>

</section>
<section>

<h2>æˆæœç‰©</h2>

<p><a href="https://github.com/hnishi/dotfiles">https://github.com/hnishi/dotfiles</a></p>

</section>
<section>

<h2>å·¥å¤«</h2>

<p>ãƒ¯ãƒ³ãƒ©ã‚¤ãƒ³ã®ã‚³ãƒãƒ³ãƒ‰ä¸€ç™ºã§ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œãˆã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ</p>

</section>
<section>

<h2>ãƒ™ãƒ¼ã‚¹</h2>

<p><a href="https://github.com/yutakatay/dotfiles-mini">bash ã ã‘ã§å±•é–‹ã§ãã‚‹æœ€å°æ§‹æˆã® dotfiles ãƒ¬ãƒã‚¸ãƒˆãƒª</a> ã‚’å‚è€ƒã«ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚</p>

</section>
<section>

<h2>ä½¿ã„æ–¹</h2>

<pre><code>curl -L raw.githubusercontent.com/hnishi/dotfiles/master/scripts/download.sh | bash
</code></pre>

<p><a href="https://github.com/hnishi/dotfiles/blob/master/scripts/download.sh">code</a></p>

</section>
<section>

<h2>git ãŒã‚ã‚‹å ´åˆ</h2>

<pre><code class="language-bash">    if is_exists "git"; then
    # --recursive equals to ...
    # git submodule init
    # git submodule update
    git clone --recursive "$DOTFILES_GITHUB" "$DOTPATH"
</code></pre>

</section>
<section>

<h2>curl ãŒã‚ã‚‹å ´åˆ</h2>

<pre><code>    elif is_exists "curl" || is_exists "wget"; then
    # curl or wget
    local tarball="https://github.com/hnishi/dotfiles/archive/master.tar.gz"
    if is_exists "curl"; then
    curl -L "$tarball"
</code></pre>

</section>
<section>

<h2>wget ãŒã‚ã‚‹å ´åˆ</h2>

<pre><code class="language-bash">    elif is_exists "wget"; then
    wget -O - "$tarball"

    fi | tar xvz
    if [ ! -d dotfiles-master ]; then
    log_fail "dotfiles-master: not found"
    exit 1
    fi
    command mv -f dotfiles-master "$DOTPATH"
</code></pre>

</section>
<section>

<h2>dotfiles ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ä»•çµ„ã¿</h2>

<p>ãƒ¬ãƒã‚¸ãƒˆãƒªã«å­˜åœ¨ã™ã‚‹ . (ãƒ‰ãƒƒãƒˆ) ã‹ã‚‰å§‹ã¾ã‚‹ãƒ•ã‚¡ã‚¤ãƒ« or ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é–¢ã—ã¦ã€<br>
æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã£ã¦ã€ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è²¼ã‚‹</p>

</section>
<section>

<pre><code class="language-bash">    if [[ "$HOME" != "$dotdir" ]];then
    for f in $dotdir/.??*; do
      [[ `basename $f` == ".git" ]] &amp;&amp; continue
      if [[ -L "$HOME/`basename $f`" ]];then
        command rm -f "$HOME/`basename $f`"
      fi
      if [[ -e "$HOME/`basename $f`" ]];then
        command mv --backup=numbered "$HOME/`basename $f`" "$HOME/.gdotbackup"
      fi
      command ln -snf $f $HOME
    done
</code></pre>

<p><a href="https://github.com/hnishi/dotfiles/blob/50e37693a3f12dc2ff5e6f50257bd9ce75f6eabd/scripts/install.sh#L23-L33">code</a></p>

</section>
<section>

<h3>TIPS</h3>

<p>mv ã® â€“backup=numbered ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚Œã°ã€ç•ªå·ã‚’æŒ¯ã£ã¦ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ãã‚Œã¾ã™ã€‚<br>
ç§ã¯æœ€è¿‘çŸ¥ã‚Šã¾ã—ãŸã€‚</p>

</section>
<section>

<h2>ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ</h2>

<pre><code class="language-bash">$ ls -a ~/.bashrc*
/Users/hnishi/.bashrc
/Users/hnishi/.bashrc_local
/Users/hnishi/.bashrc_linux
/Users/hnishi/.bashrc_mac
</code></pre>

</section>
<section>

<h2>bash è¨­å®šã®èª­ã¿è¾¼ã¿ã®æµã‚Œ</h2>

<p><img src="images/source_tree.png" style="background:none; border:none; box-shadow:none;"></p>

</section>
<section>

<h2>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>

<ul>
  <li>ã‚ã¾ã‚Šã‚¤ã‚±ã¦ãªã„</li>
  <li>exit status ã«ã‚ˆã‚‹è‰²ä»˜ã‘ã€å®Ÿè¡Œæ™‚é–“ã€ç¾åœ¨æ™‚åˆ»ãªã©</li>
</ul>

<p><img src="images/ps1.png" style="background:none; border:none; box-shadow:none;"></p>

</section>
<section>

<h2>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>

<p>bash ã ã¨ PROMPT_COMMAND ã«é–¢æ•°ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤ºæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ã€‚</p>

<pre><code class="language-bash">dispatch () {
  local EXIT_STATUS="$?" # ç›´å‰ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œçµæœã®ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ä¿å­˜
  timer_stop # ç›´å‰ã®ã‚³ãƒãƒ³ãƒ‰ã®å‡¦ç†æ™‚é–“ã‚’å›³ã‚‹ãŸã‚ã®ã‚¿ã‚¤ãƒãƒ¼(é–¢æ•°)
  get_datetime # ç¾åœ¨æ™‚åˆ»ã‚’å–å¾—ã™ã‚‹é–¢æ•°

  local status_color="" # exit status ã«ã‚ˆã£ã¦è‰²ã‚’å¤‰ãˆã‚‹
  if [ $EXIT_STATUS != 0 ]; then
    status_color=$PALE_RED
  else
    status_color=$DARK_GREEN
  fi
  export PS1="${GREEN}${PS1_USER}${WHITE}:${PALE_BLUE}\w${CYAN}$(__git_ps1) ${status_color} [exit: \$?] ${WHITE}[last: ${timer_show}s] [${prompt_datetime}]\n\$ "
}
export PROMPT_COMMAND=dispatch
</code></pre>

<p><a href="https://github.com/hnishi/dotfiles/blob/50e37693a3f12dc2ff5e6f50257bd9ce75f6eabd/.bashrc#L131-L155">code</a></p>

</section>
<section>

<h2>çµæœ</h2>

<p>bash + {git,curl,wget}<br>
ãŒã‚ã‚Œã°å³åº§ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™</p>

</section>
<section>

<h2>bash ã ã‘ã§ã‚‚ TCP é€šä¿¡ãŒã§ãã‚‹ã‚‰ã—ã„</h2>

<p>ã‚‚ã—ã‹ã™ã‚‹ã¨ã€curl ã‚‚ä½¿ã‚ãªãã¦ã‚‚ã„ã„ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã‚Œã¯è©¦ã—ã¦ãªã„ã§ã™ã€‚</p>

<pre><code class="language-bash">exec 3&lt;&gt;/dev/tcp/www.google.com/80
echo -e "GET / HTTP/1.1\r\nhost: http://www.google.com\r\nConnection: close\r\n\r\n" &gt;&amp;3
cat &lt;&amp;3
</code></pre>

<p><a href="https://www.linuxjournal.com/content/more-using-bashs-built-devtcp-file-tcpip">https://www.linuxjournal.com/content/more-using-bashs-built-devtcp-file-tcpip</a></p>

</section>
<section>

<h2>ä½¿ã„ã‚„ã™ã„ã‚ˆã†ã« template ã‚’ä½œæˆã—ã¾ã—ãŸ</h2>

<p>ä»¥ä¸‹ã«ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã¨ã€ãƒ¬ãƒã‚¸ãƒˆãƒªã« dotfiles ã‚’é…ç½®ã™ã‚‹ã ã‘ã§ä½¿ãˆã¾ã™<br>
(bashã®ã¿å¯¾å¿œ)ã€‚</p>

<p><a href="https://github.com/hnishi/dotfiles/releases/tag/minimal-template-v0">https://github.com/hnishi/dotfiles/releases/tag/minimal-template-v0</a></p>

</section>
<section>

<h2>ã¾ã¨ã‚</h2>

<ul>
  <li>dotfiles ã¯è‚²ã¦ã¦ã„ãæ„Ÿè¦šãŒã‚ã£ã¦æ¥½ã—ã„ ğŸ˜ƒ</li>
</ul>

</section>
<section>

<h1>ãŠã¾ã‘</h1>

</section>
<section>

<h2>VS Code</h2>

<p><a href="https://code.visualstudio.com/updates/v1_43#_settings-sync">Visual Studio Code ãŒå…¬å¼ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸãƒ„ãƒ¼ãƒ«ã‚’ç™ºè¡¨</a><br>
(ç¾åœ¨ preview ç‰ˆã®ã¿)</p>

<p>ã¾ã ä½¿ã£ãŸã“ã¨ãªã„ã§ã™ãŒã€æœŸå¾…ã€‚<br>
ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã® sign in ãŒå¿…è¦ã¿ãŸã„ã€‚</p>

<p><a href="https://code.visualstudio.com/docs/editor/settings-sync">https://code.visualstudio.com/docs/editor/settings-sync</a></p>

</section>

  </div>
</div>

<script src="js/reveal.js"></script>


<script>
  (function() {
  function extend( a, b ) {
    for(var i in b) {
      a[i] = b[i];
    }
  }
  var baseOptions = {
    transition: 'default',
    hash: true,
    dependencies: [
      { src: 'plugin/markdown/marked.js' },
      { src: 'plugin/markdown/markdown.js' },
      { src: 'plugin/highlight/highlight.js' },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  };

  

  var configOptions = {"controls":true,"progress":true,"history":true,"center":true}
  var initializeOptions = {};
  extend(initializeOptions, baseOptions);
  extend(initializeOptions, configOptions);
  Reveal.initialize(initializeOptions);
})();

</script>

  </body>
</html>
